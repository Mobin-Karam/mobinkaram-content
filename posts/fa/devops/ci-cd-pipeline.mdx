---
title: "پیاده‌سازی پایپ‌لاین CI/CD"
description: "مراحل استاندارد برای تست، ساخت و استقرار خودکار سرویس‌ها"
date: "2026-02-15"
slug: "ci-cd-pipeline"
tags: ["devops", "ci-cd", "automation"]
category: "devops"
cover: "/assets/images/ci-cd-pipeline.jpg"
readingTime: 7
published: true
author: "Mobin Karam"
---

پایپ‌لاین CI/CD خوب، ریسک انتشار را کم و سرعت تیم را زیاد می‌کند. این طرح یک خط مبنا برای بیشتر سرویس‌های وب است.

## مراحل CI

- **Checkout + cache** وابستگی‌ها.  
- **Linters/format** برای شکستن زودهنگام PRهای ناسازگار.  
- **تست واحد و یکپارچه** با گزارش پوشش.  
- **ساخت artifact** (Docker image یا bundle) با تگ commit.

## مراحل CD

- **Deploy استیجینگ**: رول‌اوت خودکار بعد از CI موفق.  
- **تست دود و e2e سبک** روی استیجینگ با داده نمونه.  
- **کاناری یا بلو-گرین** در پروداکشن؛ تگ image به نسخه قفل شود.  
- **پایش و رول‌بک**: هشدار بر اساس خطا/تاخیر؛ دکمه رول‌بک به نسخه قبلی.

## زیرساخت پیشنهادی

- سیستم‌های محبوب: GitHub Actions/GitLab CI برای CI، Argo CD/Flux برای CD در کابرنتیز.  
- از **secrets manager** برای کلیدها استفاده کنید، نه متغیر محیطی ساده.  
- لاگ و متریک پایپ‌لاین را ذخیره کنید تا ریشه مشکل را پیدا کنید.

## چک‌لیست قبل از فعال‌سازی

- تست‌ها سریع و پایدارند (<۱۰ دقیقه).  
- rollout درصدی یا منطقه‌ای قابل تنظیم است.  
- دسترسی و نقش‌ها مشخص: چه کسی می‌تواند deploy یا rollback کند.  
- مستندات و runbook در ریپو پیوست شده است.

با این مراحل، انتشارها قابل پیش‌بینی و قابل بازگشت می‌شوند و تیم با اعتماد بیشتری تغییر می‌دهد.











